{"version":3,"file":"browserInstance.js","sources":["../src/shared/enum/ETransportCommand.ts","../src/shared/utils/Encodings.ts","../src/shared/utils/TransportCommands.ts","../src/shared/utils/transport.ts","../src/shared/utils/isPlainObject.ts","../src/shared/utils/AcknowledgeQueue/AcknowledgeQueueIdentifier.ts","../src/shared/enum.ts","../src/shared/models/Topic.ts","../src/shared/utils/generateQueryString.ts","../src/shared/constants.ts","../src/client/NoLagClient.ts","../src/shared/utils/AcknowledgeQueue/AcknowledgeQueueItem.ts","../src/shared/utils/AcknowledgeQueue/AcknowledgeQueueManager.ts","../src/client/index.ts","../src/unifiedWebsocket/browser.ts","../src/api/controllers/tunnels/TunnelDevice.ts","../src/api/controllers/tunnels/TunnelPublish.ts","../src/api/controllers/tunnels/TunnelTopic.ts","../src/api/controllers/tunnels/TunnelApi.ts","../src/api/ApiTunnel.ts","../src/api/index.ts","../src/browserInstance.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["ETransportCommand","ETransportCommandSeparator","stringToArrayBuffer","str","buf","ArrayBuffer","length","bufView","Uint8Array","strLen","i","charCodeAt","stringToBuffer","bufferToString","buffer","uint8ArrayToString","reduce","accumulator","index","String","fromCharCode","TransportCommands","commandArray","setCommand","command","commandAction","this","push","commandActionArray","Array","isArray","convertArray","convertStringNumberArray","commandActionBuffer","from","commandActions","map","action","ArraySeparator","flat","build","transportCommands","NqlTransport","parseData","data","obj","Object","getPrototypeOf","prototype","JSON","stringify","encode","payload","separatorArray","Payload","transportCommandsUintArray","commandLength","byteLength","payloadOffset","payloadLength","payloadUintArray","tmp","set","decode","transport","totalTransportBytes","transportBufferViewer","payloadSeparatorIndex","indexOf","commands","slice","payloadStartIndex","extractedCommands","extractCommands","getCommand","hasSeparatorIndexes","commandActionUint8ArrayToString","item","join","commandActionUint8ArrayToStringArray","groupedUint8Array","tempGroup","forEach","uint8Array","Number","commandByteGroup","commandBeingAssigned","byte","values","keys","key","AcknowledgeQueueIdentifier","topicName","initiate","authentication","identifiers","presence","constructor","identifiersToOrderedString","sort","generateKey","filter","EConnectionStatus","EEncoding","EVisibilityState","EAccessPermission","EStatus","ETopicType","ELoadBalanceType","ESendAction","Topic","connection","onReceiveCallback","tunnel","acknowledgeQueueManager","setConnection","saveIdentifiers","OR","identifier","find","s","deleteSavedIdentifiers","identifierList","_subscribeAction","sendAction","callbackFn","send","addToSentQueue","undefined","subscribe","error","Error","Identifier","AddAction","TopicSubscribe","setPresence","Presence","TopicPresence","_onReceiveMessage","onReceive","addIdentifiers","identifiersList","TopicAddIdentifier","removeIdentifiers","DeleteAction","TopicRemoveIdentifier","unsubscribe","TopicUnsubscribe","publish","TopicPublish","generateQueryString","query","queryArray","queryObject","queryString","CONSTANT","DefaultWsHost","DefaultApiHost","DefaultWsUrl","DefaultPort","DefaultWsProtocol","DefaultApiUrl","DefaultHttpProtocol","NoLagClient","host","authToken","wsInstance","protocol","url","deviceConnectionId","deviceTokenId","defaultCheckConnectionInterval","defaultCheckConnectionTimeout","checkConnectionInterval","checkConnectionTimeout","reConnect","debug","callbackOnOpen","callbackOnReceive","callbackOnClose","callbackOnError","connectionStatus","Idle","backpressureSendInterval","senderInterval","unifiedWebsocket","bufferOnDisconnect","connectOptions","startSender","setInterval","Disconnected","Connected","sendTransport","shift","slowDownSender","backpressureInterval","clearInterval","addToBuffer","setReConnect","connect","initWebsocketConnection","authenticate","disconnect","close","onOpen","event","_onOpen","onMessage","_onReceive","onClose","_onClose","onError","_onError","Initiate","Connecting","Authenticate","Reconnect","TunnelAuthenticate","Authentication","callback","onReceiveMessage","ackCommand","decoded","InitConnection","addToReceivedQueue","console","log","AcknowledgeConnected","Acknowledge","AcknowledgeAuthenticated","ackIdentifier","AcknowledgeGeneral","ackErrorIdentifier","AcknowledgeError","OnOpen","presences","transportResponse","OnReceive","OnClose","OnError","heartbeat","TunnelHeartbeat","AcknowledgeQueueItem","_expirePeriodInMs","expireTimestamp","properties","expirePeriodInMs","Date","now","periodInMs","isExpired","expire","AcknowledgeQueueSentItem","super","AcknowledgeQueueReceivedItem","AcknowledgeQueueManager","queues","sent","received","matchSentQueueWithReceiveQueue","foundReceiveQueueItem","cleanUpReceivedQueue","runQueue","setTimeout","Promise","resolve","reject","generatedKey","getSentQueue","getReceivedQueue","Tunnel","noLagClient","topics","heartbeatTimer","heartBeatInterval","visibilityState","Visible","callbackOnDisconnect","callbackOnReconnect","callbackOnReceivedError","connectionOptions","options","disconnectOnNoVisibility","onVisibilityChange","startHeartbeat","stopHeartbeat","reconnect","document","addEventListener","async","Hidden","tunnelInstance","err","canReconnect","doReconnect","onDisconnect","onReconnect","onErrors","getTopic","topic","encodedBuffer","TunnelPublish","status","ws","WebSocket","binaryType","Arraybuffer","message","onopen","onclose","onerror","onmessage","TunnelDevice","routeNamespace","parentRouteNamespace","tunnelId","requestParams","createDevice","response","fetch","baseURL","method","headers","body","json","getDeviceById","listDevices","updateDevice","deleteDevice","baseUrl","wsHost","TunnelTopic","createTopic","getTopicById","topicId","listTopics","updateTopic","deleteTopic","TunnelApi","apiTunnel","devices","getTunnel","updateTunnel","deleteTunnel","httpPublish","ApiTunnel","apiKey","wsUrl","tunnels","tunnelQuery","URLSearchParams","toString","createTunnel","Api","WebSocketClient"],"mappings":"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"}